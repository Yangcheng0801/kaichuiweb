@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* ── 基础色 ── */
    --background: 0 0% 100%;               /* #FFFFFF 纯白背景 */
    --foreground: 0 0% 14.5%;              /* 深灰 主文字 */

    /* ── 主色（纯黑） ── */
    --primary: 0 0% 0%;                     /* #000000 纯黑 */
    --primary-foreground: 0 0% 100%;        /* #FFFFFF 主色上的文字 */

    /* ── 次级色 ── */
    --secondary: 0 0% 96.1%;               /* 极浅灰 次级背景 */
    --secondary-foreground: 0 0% 14.5%;    /* 深灰 次级文字 */

    /* ── 柔和色 ── */
    --muted: 0 0% 98.5%;                   /* 极浅灰 98.5% 亮度 */
    --muted-foreground: 0 0% 55.6%;        /* 中灰 柔和文字 */

    /* ── 强调色 ── */
    --accent: 0 0% 96.1%;                  /* 极浅灰 强调背景 */
    --accent-foreground: 0 0% 14.5%;       /* 深灰 强调文字 */

    /* ── 卡片 ── */
    --card: 0 0% 100%;                      /* #FFFFFF 卡片背景 */
    --card-foreground: 0 0% 14.5%;         /* 深灰 卡片文字 */

    /* ── 弹出层 ── */
    --popover: 0 0% 100%;                   /* #FFFFFF */
    --popover-foreground: 0 0% 14.5%;

    /* ── 边框与输入框 ── */
    --border: 0 0% 89.8%;                  /* 浅灰边框 */
    --border-subtle: 0 0% 93%;             /* 极浅灰 细分隔线 */
    --input: 0 0% 89.8%;                   /* 浅灰 输入框边框 */

    /* ── 焦点环 ── */
    --ring: 0 0% 0%;                        /* 纯黑，同 primary */

    /* ── 圆角基础值 ── */
    --radius: 0.5rem;                       /* 8px */

    /* ── 语义色 ── */
    --success: 142 76% 36%;                 /* 绿色 成功/可用 */
    --warning: 38 92% 50%;                  /* 琥珀色 警告/待处理 */
    --destructive: 0 72% 51%;              /* 红色 错误/危险 */
    --info: 217 91% 60%;                    /* 蓝色 信息/已确认 */

    /* ── 图表配色 ── */
    --chart-1: 12 76% 61%;                  /* 橙色 */
    --chart-2: 173 58% 39%;                 /* 青绿 */
    --chart-3: 197 37% 24%;                 /* 深蓝 */
    --chart-4: 43 74% 66%;                  /* 黄色 */
    --chart-5: 27 87% 67%;                  /* 橙黄 */

    /* ── 页面容器背景 ── */
    --page-bg: 0 0% 98.5%;                 /* 极浅灰 */
  }

  .dark {
    /* ── 基础色 ── */
    --background: 0 0% 0%;                  /* #000000 纯黑背景 */
    --foreground: 0 0% 98.5%;              /* 近白 主文字 */

    /* ── 主色（纯白） ── */
    --primary: 0 0% 98.5%;                 /* 近白 */
    --primary-foreground: 0 0% 0%;         /* #000000 主色上的文字 */

    /* ── 次级色 ── */
    --secondary: 0 0% 10%;                 /* 深灰 10% 亮度 */
    --secondary-foreground: 0 0% 98.5%;

    /* ── 柔和色 ── */
    --muted: 0 0% 6%;                      /* 深灰 6% 亮度 */
    --muted-foreground: 0 0% 55.6%;        /* 中灰 */

    /* ── 强调色 ── */
    --accent: 0 0% 10%;
    --accent-foreground: 0 0% 98.5%;

    /* ── 卡片 ── */
    --card: 0 0% 4%;                        /* 深灰 4% 亮度 */
    --card-foreground: 0 0% 98.5%;

    /* ── 弹出层 ── */
    --popover: 0 0% 4%;
    --popover-foreground: 0 0% 98.5%;

    /* ── 边框与输入框 ── */
    --border: 0 0% 14.9%;                  /* 深灰边框 */
    --border-subtle: 0 0% 18%;
    --input: 0 0% 14.9%;

    /* ── 焦点环 ── */
    --ring: 0 0% 98.5%;                    /* 近白，同 primary */

    /* ── 语义色 ── */
    --success: 142 71% 45%;
    --warning: 38 92% 50%;
    --destructive: 0 62% 55%;
    --info: 217 91% 65%;

    /* ── 图表配色 ── */
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;

    /* ── 页面容器背景 ── */
    --page-bg: 0 0% 0%;
  }

  /* ── 全局样式 ── */
  * {
    border-color: hsl(var(--border));
  }

  body {
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
                 'Helvetica Neue', Arial, 'Noto Sans SC', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* ── 主题切换过渡 ── */
  html {
    transition: background-color 0.3s ease, color 0.3s ease;
  }

  html.dark {
    color-scheme: dark;
  }

  html.light {
    color-scheme: light;
  }

  /* ── 滚动条样式 ── */
  * {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--border)) transparent;
  }

  *::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  *::-webkit-scrollbar-track {
    background: transparent;
  }

  *::-webkit-scrollbar-thumb {
    background-color: hsl(var(--border));
    border-radius: 3px;
    transition: background-color 0.2s;
  }

  *::-webkit-scrollbar-thumb:hover {
    background-color: hsl(var(--muted-foreground) / 0.6);
  }

  .dark *::-webkit-scrollbar-thumb {
    background-color: hsl(var(--border));
  }

  .dark *::-webkit-scrollbar-thumb:hover {
    background-color: hsl(var(--muted-foreground) / 0.4);
  }

  /* ── 焦点可见性增强 ── */
  :focus:not(:focus-visible) {
    outline: none;
  }

  :focus-visible {
    outline: 2px solid hsl(var(--ring));
    outline-offset: 2px;
  }

  /* ── 动画性能优化 ── */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
}
